
<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏Ñ‡∏£‡∏¥‡∏õ‡πÇ‡∏ï Bitkub (1,000 ‡∏ö‡∏≤‡∏ó + ‡∏ã‡∏∑‡πâ‡∏≠/‡∏Ç‡∏≤‡∏¢ + ‡∏Å‡∏≥‡πÑ‡∏£‡∏™‡∏∏‡∏ó‡∏ò‡∏¥)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      font-family: 'Kanit', sans-serif;
      background: radial-gradient(circle at top, #0f0f0f, #050505);
      color: #e0ffe0;
    }
    h1 {
      color: #00ff66;
      text-align: center;
      text-shadow: 0 0 8px #00ff66;
    }
    .box {
      background: #111;
      border: 2px solid #00ff66;
      border-radius: 12px;
      padding: 16px;
      margin: 20px auto;
      max-width: 800px;
      box-shadow: 0 0 15px rgba(0,255,100,0.3);
    }
    .signal {
      padding: 12px;
      font-weight: bold;
      border-radius: 8px;
    }
    .buy { background: #1b3c1b; color: #aaffaa; border: 1px solid #00ff66; }
    .sell { background: #3c1b1b; color: #ffaaaa; border: 1px solid #ff4444; }
    .wait { background: #33331b; color: #ffffaa; border: 1px solid #ffff66; }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 15px;
    }
    th, td {
      border: 1px solid #555;
      padding: 8px;
      text-align: center;
    }
    th {
      background: #222;
      color: #00ffcc;
    }
    .highlight {
      color: #00ff99;
      font-weight: bold;
      font-size: 1.1em;
    }
    button {
      padding: 10px 20px;
      background: linear-gradient(to right, #00c853, #64dd17);
      border: none;
      border-radius: 6px;
      color: #000;
      font-weight: bold;
      cursor: pointer;
      margin-top: 10px;
      margin-right: 6px;
    }
    input {
      padding: 8px;
      border-radius: 6px;
      border: 1px solid #666;
      background: #222;
      color: #fff;
      margin-top: 10px;
    }
  </style>
</head>
<body>
<h1>üìä ‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏ã‡∏∑‡πâ‡∏≠‡∏Ç‡∏≤‡∏¢ BTC/ETH ‡∏à‡∏≤‡∏Å Bitkub (‡∏á‡∏ö 1,000 ‡∏ö‡∏≤‡∏ó)</h1>

<div class="box">
  <h2>üí∞ BTC/THB</h2>
  <div id="btcPrice">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</div>
  <div id="btcSignal" class="signal wait">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô...</div>
  <div id="btcDetail"></div>
  <div>
    <input type="number" id="btcQty" placeholder="‡∏à‡∏≥‡∏ô‡∏ß‡∏ô BTC">
    <button onclick="logTrade('BTC', 'buy')">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡∏ã‡∏∑‡πâ‡∏≠ BTC</button>
    <button onclick="logTrade('BTC', 'sell')">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢ BTC</button>
  </div>
</div>

<div class="box">
  <h2>üí∞ ETH/THB</h2>
  <div id="ethPrice">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</div>
  <div id="ethSignal" class="signal wait">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô...</div>
  <div id="ethDetail"></div>
  <div>
    <input type="number" id="ethQty" placeholder="‡∏à‡∏≥‡∏ô‡∏ß‡∏ô ETH">
    <button onclick="logTrade('ETH', 'buy')">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡∏ã‡∏∑‡πâ‡∏≠ ETH</button>
    <button onclick="logTrade('ETH', 'sell')">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢ ETH</button>
  </div>
</div>

<div class="box">
  <h2>üìã ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡∏ã‡∏∑‡πâ‡∏≠‡∏Ç‡∏≤‡∏¢</h2>
  <table id="tradeLog">
    <thead>
      <tr>
        <th>‡∏ß‡∏±‡∏ô‡πÄ‡∏ß‡∏•‡∏≤</th><th>‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç</th><th>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó</th><th>‡∏£‡∏≤‡∏Ñ‡∏≤</th><th>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô</th><th>‡∏£‡∏ß‡∏° (‡∏ö‡∏≤‡∏ó)</th><th>‡∏Å‡∏≥‡πÑ‡∏£‡∏™‡∏∏‡∏ó‡∏ò‡∏¥</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>
  <div style="margin-top:10px;font-size:1.2em;">
    üíπ <b>‡∏£‡∏ß‡∏°‡∏Å‡∏≥‡πÑ‡∏£‡∏™‡∏∏‡∏ó‡∏ò‡∏¥:</b> <span id="netProfit">0</span> ‡∏ö‡∏≤‡∏ó
  </div>
</div>

<script>
const budget = 1000;
const feeRate = 0.0025;
let net = 0;
const buyMap = {};

function fetchBitkub(symbol, priceID, signalID, detailID, low, high) {
  fetch("https://api.bitkub.com/api/market/ticker?sym=" + symbol)
    .then(r => r.json())
    .then(data => {
      const price = data[symbol].last;
      let trend = "‚è∏ ‡∏Ñ‡∏á‡∏ó‡∏µ‡πà";
      const key = "prev_" + symbol;
      const prev = localStorage.getItem(key);
      if (prev) {
        const prevPrice = parseFloat(prev);
        if (price > prevPrice) trend = "üîº ‡πÅ‡∏ô‡∏ß‡πÇ‡∏ô‡πâ‡∏°‡∏Ç‡∏∂‡πâ‡∏ô";
        else if (price < prevPrice) trend = "üîΩ ‡πÅ‡∏ô‡∏ß‡πÇ‡∏ô‡πâ‡∏°‡∏•‡∏á";
      }
      localStorage.setItem(key, price);
      document.getElementById(priceID).innerHTML = `üìà ‡∏£‡∏≤‡∏Ñ‡∏≤‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î: <span class="highlight">${price.toLocaleString()} ‡∏ö‡∏≤‡∏ó</span><br>üìâ ‡πÅ‡∏ô‡∏ß‡πÇ‡∏ô‡πâ‡∏°: ${trend}`;
      const feeBuy = budget * feeRate;
      const coin = (budget / price).toFixed(6);
      const revenue = coin * price;
      const feeSell = revenue * feeRate;
      const netProfit = revenue - budget - feeBuy - feeSell;
      document.getElementById(detailID).innerHTML = `
        üìå ‡∏ã‡∏∑‡πâ‡∏≠‡πÑ‡∏î‡πâ ‚âà ${coin} ‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç<br>
        üí∏ ‡∏Ñ‡πà‡∏≤‡∏ò‡∏£‡∏£‡∏°‡πÄ‡∏ô‡∏µ‡∏¢‡∏°‡∏ã‡∏∑‡πâ‡∏≠ ‚âà ${feeBuy.toFixed(2)} ‡∏ö‡∏≤‡∏ó<br>
        üí∏ ‡∏Ñ‡πà‡∏≤‡∏ò‡∏£‡∏£‡∏°‡πÄ‡∏ô‡∏µ‡∏¢‡∏°‡∏Ç‡∏≤‡∏¢ ‚âà ${feeSell.toFixed(2)} ‡∏ö‡∏≤‡∏ó<br>
        ‚úÖ ‡∏Å‡∏≥‡πÑ‡∏£‡∏™‡∏∏‡∏ó‡∏ò‡∏¥‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì ‚âà <b>${netProfit.toFixed(2)}</b> ‡∏ö‡∏≤‡∏ó
      `;
      const sig = document.getElementById(signalID);
      if (price <= low) {
        sig.innerHTML = "üî¥ ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤‡∏à‡∏∏‡∏î‡∏ã‡∏∑‡πâ‡∏≠ ‚Üí ‡∏Ñ‡∏ß‡∏£‡∏ã‡∏∑‡πâ‡∏≠";
        sig.className = "signal buy";
      } else if (price >= high) {
        sig.innerHTML = "üîµ ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏™‡∏π‡∏á‡∏Å‡∏ß‡πà‡∏≤‡∏à‡∏∏‡∏î‡∏Ç‡∏≤‡∏¢ ‚Üí ‡∏Ñ‡∏ß‡∏£‡∏Ç‡∏≤‡∏¢";
        sig.className = "signal sell";
      } else {
        sig.innerHTML = "‚è≥ ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ñ‡∏∂‡∏á‡∏à‡∏∏‡∏î‡∏ã‡∏∑‡πâ‡∏≠/‡∏Ç‡∏≤‡∏¢";
        sig.className = "signal wait";
      }
    });
}

function logTrade(symbol, type) {
  const qty = parseFloat(document.getElementById(symbol.toLowerCase() + "Qty").value);
  if (!qty || qty <= 0) return alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏™‡πà‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á");
  const priceText = document.getElementById(symbol.toLowerCase() + "Price").innerText;
  const match = priceText.match(/([\d,]+) ‡∏ö‡∏≤‡∏ó/);
  const price = parseFloat(match[1].replace(/,/g, ''));
  const total = qty * price;
  const now = new Date().toLocaleString("th-TH");
  let profit = "";

  if (type === "buy") {
    buyMap[symbol] = { qty, price, total };
  } else if (type === "sell" && buyMap[symbol]) {
    const buy = buyMap[symbol];
    const feeBuy = buy.total * feeRate;
    const feeSell = total * feeRate;
    const gain = total - buy.total - feeBuy - feeSell;
    profit = gain.toFixed(2);
    net += gain;
    buyMap[symbol] = null;
    document.getElementById("netProfit").innerText = net.toFixed(2);
  }

  const row = `<tr>
    <td>${now}</td><td>${symbol}</td><td>${type.toUpperCase()}</td>
    <td>${price.toLocaleString()}</td><td>${qty}</td><td>${total.toFixed(2)}</td>
    <td>${profit}</td>
  </tr>`;
  document.querySelector("#tradeLog tbody").innerHTML += row;
}

fetchBitkub("THB_BTC", "btcPrice", "btcSignal", "btcDetail", 2100000, 2300000);
fetchBitkub("THB_ETH", "ethPrice", "ethSignal", "ethDetail", 95000, 115000);
</script>
</body>
</html>
