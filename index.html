
<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏Ñ‡∏£‡∏¥‡∏õ‡πÇ‡∏ï Bitkub (5,000 ‡∏ö‡∏≤‡∏ó)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Kanit:wght@400;700&display=swap');
    body {
      font-family: 'Kanit', sans-serif;
      background: radial-gradient(circle at top, #0f0f0f, #050505);
      color: #e0ffe0;
    }
    h1 {
      color: #00ff66;
      text-align: center;
      text-shadow: 0 0 8px #00ff66;
    }
    .box {
      background: #111;
      border: 2px solid #00ff66;
      border-radius: 12px;
      padding: 16px;
      margin: 20px auto;
      max-width: 800px;
      box-shadow: 0 0 15px rgba(0,255,100,0.3);
    }
    .signal {
      padding: 12px;
      font-weight: bold;
      border-radius: 8px;
    }
    .buy { background: #1b3c1b; color: #aaffaa; border: 1px solid #00ff66; }
    .sell { background: #3c1b1b; color: #ffaaaa; border: 1px solid #ff4444; }
    .wait { background: #33331b; color: #ffffaa; border: 1px solid #ffff66; }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 15px;
    }
    th, td {
      border: 1px solid #555;
      padding: 8px;
      text-align: center;
    }
    th {
      background: #222;
      color: #00ffcc;
    }
    .highlight {
      color: #00ff99;
      font-weight: bold;
      font-size: 1.1em;
    }
    button {
      padding: 10px 20px;
      background: linear-gradient(to right, #00c853, #64dd17);
      border: none;
      border-radius: 6px;
      color: #000;
      font-weight: bold;
      cursor: pointer;
      margin-top: 10px;
    }
    input {
      padding: 8px;
      border-radius: 6px;
      border: 1px solid #666;
      background: #222;
      color: #fff;
      margin-top: 10px;
    }
    body { font-family: Tahoma, sans-serif; background: #111; color: #eee; padding: 20px; }
    h1 { text-align: center; color: #00ffcc; }
    .box { background: #222; border-radius: 10px; padding: 15px; margin: 20px auto; max-width: 700px; }
    .signal { padding: 10px; font-weight: bold; border-radius: 8px; }
    .buy { background: #330000; color: #ff9999; }
    .sell { background: #003333; color: #66ffff; }
    .wait { background: #333300; color: #ffff66; }
    table { width: 100%; border-collapse: collapse; margin-top: 15px; }
    th, td { border: 1px solid #666; padding: 8px; text-align: center; }
    th { background: #333; }
    .highlight { color: #00ff99; font-weight: bold; }
  </style>
</head>
<body>
<h1>üìä ‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏ã‡∏∑‡πâ‡∏≠‡∏Ç‡∏≤‡∏¢ BTC/ETH ‡∏à‡∏≤‡∏Å Bitkub (‡∏á‡∏ö 5,000 ‡∏ö‡∏≤‡∏ó)</h1>

<div class="box">
  <h2>üí∞ BTC/THB</h2>
  <div id="btcPrice">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</div>
  <div id="btcSignal" class="signal wait">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô...</div>
  <div id="btcDetail"></div>

  <div>
    <input type="number" id="btcQty" placeholder="‡∏à‡∏≥‡∏ô‡∏ß‡∏ô BTC">
    <button onclick="logTrade('BTC')">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡∏ã‡∏∑‡πâ‡∏≠ BTC</button>
  </div>
</div>

<div class="box">
  <h2>üí∞ ETH/THB</h2>
  <div id="ethPrice">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</div>
  <div id="ethSignal" class="signal wait">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô...</div>
  <div id="ethDetail">
  <div>
    <input type="number" id="ethQty" placeholder="‡∏à‡∏≥‡∏ô‡∏ß‡∏ô ETH">
    <button onclick="logTrade('ETH')">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡∏ã‡∏∑‡πâ‡∏≠ ETH</button>
  </div>
</div>

<div class="box">
  <h2>üìã ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡∏ã‡∏∑‡πâ‡∏≠‡∏Ç‡∏≤‡∏¢</h2>
  <table id="tradeLog">
    <thead>
      <tr>
        <th>‡∏ß‡∏±‡∏ô‡πÄ‡∏ß‡∏•‡∏≤</th><th>‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç</th><th>‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡πà‡∏≠‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç</th><th>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô</th><th>‡∏£‡∏ß‡∏° (‡∏ö‡∏≤‡∏ó)</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>
</div>

<script>
function logTrade(symbol) {
  const id = symbol.toLowerCase() + "Qty";
  const qty = parseFloat(document.getElementById(id).value);
  if (!qty || qty <= 0) return alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏™‡πà‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á");

  const priceText = document.getElementById(symbol.toLowerCase() + "Price").innerText;
  const match = priceText.match(/([\d,]+) ‡∏ö‡∏≤‡∏ó/);
  const price = parseFloat(match[1].replace(/,/g, ''));
  const total = (qty * price).toFixed(2);
  const now = new Date().toLocaleString("th-TH");

  const row = `<tr><td>${now}</td><td>${symbol}</td><td>${price.toLocaleString()}</td><td>${qty}</td><td>${total}</td></tr>`;
  document.querySelector("#tradeLog tbody").innerHTML += row;
}

const budget = 5000;
const feeRate = 0.0025; // 0.25% ‡∏ï‡πà‡∏≠‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£
const BTC_BUY = 2100000;
const BTC_SELL = 2300000;
const ETH_BUY = 95000;
const ETH_SELL = 115000;

function fetchBitkub(symbol, labelPrice, labelSignal, labelDetail, low, high) {
  fetch("https://api.bitkub.com/api/market/ticker?sym=" + symbol)
    .then(r => r.json())
    .then(data => {
      const price = data[symbol].last;
      const feeBuy = budget * feeRate;
      const coin = (budget / price).toFixed(6);
      const revenue = coin * price;
      const feeSell = revenue * feeRate;
      const netProfit = revenue - budget - feeBuy - feeSell;

      document.getElementById(labelPrice).innerHTML = `üìà ‡∏£‡∏≤‡∏Ñ‡∏≤‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î: <span class="highlight">${price.toLocaleString()} ‡∏ö‡∏≤‡∏ó</span>`;
      document.getElementById(labelDetail).innerHTML = `
        üìå ‡∏ã‡∏∑‡πâ‡∏≠‡πÑ‡∏î‡πâ ‚âà ${coin} ‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç<br>
        üí∏ ‡∏Ñ‡πà‡∏≤‡∏ò‡∏£‡∏£‡∏°‡πÄ‡∏ô‡∏µ‡∏¢‡∏°‡∏ã‡∏∑‡πâ‡∏≠ ‚âà ${feeBuy.toFixed(2)} ‡∏ö‡∏≤‡∏ó<br>
        üí∏ ‡∏Ñ‡πà‡∏≤‡∏ò‡∏£‡∏£‡∏°‡πÄ‡∏ô‡∏µ‡∏¢‡∏°‡∏Ç‡∏≤‡∏¢ ‚âà ${feeSell.toFixed(2)} ‡∏ö‡∏≤‡∏ó<br>
        ‚úÖ ‡∏Å‡∏≥‡πÑ‡∏£‡∏™‡∏∏‡∏ó‡∏ò‡∏¥‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì ‚âà <b>${netProfit.toFixed(2)}</b> ‡∏ö‡∏≤‡∏ó
      `;

      const signalBox = document.getElementById(labelSignal);
      if (price <= low) {
        signalBox.innerHTML = `üî¥ ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤ ${low} ‚Üí ‡∏Ñ‡∏ß‡∏£‡∏ã‡∏∑‡πâ‡∏≠`;
        signalBox.className = "signal buy";
      } else if (price >= high) {
        signalBox.innerHTML = `üîµ ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏™‡∏π‡∏á‡∏Å‡∏ß‡πà‡∏≤ ${high} ‚Üí ‡∏Ñ‡∏ß‡∏£‡∏Ç‡∏≤‡∏¢`;
        signalBox.className = "signal sell";
      } else {
        signalBox.innerHTML = `‚è≥ ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ñ‡∏∂‡∏á‡∏à‡∏∏‡∏î‡∏ã‡∏∑‡πâ‡∏≠/‡∏Ç‡∏≤‡∏¢`;
        signalBox.className = "signal wait";
      }
    });
}

fetchBitkub("THB_BTC", "btcPrice", "btcSignal", "btcDetail", BTC_BUY, BTC_SELL);
fetchBitkub("THB_ETH", "ethPrice", "ethSignal", "ethDetail", ETH_BUY, ETH_SELL);
</script>
</body>
</html>
